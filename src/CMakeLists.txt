

ADD_SUBDIRECTORY(MyLib)

MESSAGE(STATUS "project: " ${CMAKE_PROJECT_NAME} )
MESSAGE(STATUS "headers: " ${library_hdr} )
MESSAGE(STATUS "sources: " ${library_src} )

FIND_PACKAGE(Qt5 COMPONENTS Widgets REQUIRED)

ADD_LIBRARY(${CMAKE_PROJECT_NAME} SHARED
	${library_hdr}
	${library_src}
	${library_res}
)

TARGET_LINK_LIBRARIES(${CMAKE_PROJECT_NAME} PUBLIC Qt5::Widgets)


# PACKAGE SETUP ###################################################

INCLUDE(CMakePackageConfigHelpers)

CONFIGURE_PACKAGE_CONFIG_FILE(
	${CMAKE_SOURCE_DIR}/${CMAKE_PROJECT_NAME}Config.cmake.in
	${CMAKE_BINARY_DIR}/${CMAKE_PROJECT_NAME}Config.cmake
	INSTALL_DESTINATION {CMAKE_BINARY_DIR}/install/${CMAKE_PROJECT_NAME}Config.cmake
	#PATH_VARS ${CMAKE_BINARY_DIR@/bin}
)

#EXPORT(EXPORT ${CMAKE_PROJECT_NAME}Targets
#  FILE ${CMAKE_BINARY_DIR}/${CMAKE_PROJECT_NAME}Targets.cmake
#)

EXPORT ( PACKAGE ${CMAKE_PROJECT_NAME} ) 