PROJECT (SharedLib)
CMAKE_MINIMUM_REQUIRED( VERSION 3.7.2 )

MESSAGE(STATUS "")
MESSAGE(STATUS "SharedLib config init...")

MESSAGE(STATUS "pre BUILD_DIR: " ${BUILD_DIR})
IF(${BUILD_DIR} STREQUAL "")
	MESSAGE(STATUS "BUILD_DIR is not set like cmake arg")
	SET(BUILD_DIR ${CMAKE_SOURCE_DIR}/build)
ENDIF()
MESSAGE(STATUS "BUILD_DIR: " ${BUILD_DIR})

SET(CMAKE_INSTALL_PREFIX ${BUILD_DIR})
SET(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${BUILD_DIR}/lib)
SET(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${BUILD_DIR}/lib)
SET(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${BUILD_DIR}/bin)
SET(CMAKE_MODULE_PATH ${CMAKE_SOURCE_DIR}/cmake_modules)
SET(CMAKE_WINDOWS_EXPORT_ALL_SYMBOLS TRUE)
#SET(CMAKE_INCLUDE_CURRENT_DIR ON)
SET(CMAKE_AUTOMOC ON)

ADD_SUBDIRECTORY(src)

MESSAGE(STATUS "SharedLib config done...\n")